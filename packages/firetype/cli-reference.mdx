---
title: "CLI Reference"
description: "Complete guide to the Firetype command-line interface"
icon: "terminal"
---

# üõ†Ô∏è CLI Reference

Firetype provides a powerful CLI tool for generating type definitions from your schema files.

## Generate Command

Generate TypeScript types from your Firestore schema definitions.

```bash
npx @anonymous-dev/firetype generate [options]
```

### Options

| Option            | Description                                             | Required | Default |
| ----------------- | ------------------------------------------------------- | -------- | ------- |
| `--input=<path>`  | Directory containing your schema definitions            | Yes      | -       |
| `--output=<path>` | Directory where generated types will be saved           | Yes      | -       |
| `--mode=<mode>`   | SDK mode: `admin`, `client`, or omit for both           | No       | both    |
| `--path=<path>`   | Shorthand to set both input and output to the same path | No       | -       |

### Examples

<Tabs>
  <Tab title="Both SDKs">
    ```bash # Generate types for both SDKs npx @anonymous-dev/firetype generate
    --input=./schemas --output=./types ```
  </Tab>
  <Tab title="Admin Only">
    ```bash # Generate only admin SDK types npx @anonymous-dev/firetype generate
    --mode=admin --input=./schemas --output=./types ```
  </Tab>
  <Tab title="Client Only">
    ```bash # Generate only client SDK types npx @anonymous-dev/firetype
    generate --mode=client --input=./src/database --output=./lib/types ```
  </Tab>
  <Tab title="Same Directory">
    ```bash # Use shorthand for same input/output directory npx
    @anonymous-dev/firetype generate --path=./firestore ```
  </Tab>
  <Tab title="Nested Schemas">
    ```bash # Organize schemas in subdirectories npx @anonymous-dev/firetype
    generate --input=./src/schemas/firestore --output=./src/types ```
  </Tab>
</Tabs>

## Help Command

Display help information for all available commands.

```bash
npx @anonymous-dev/firetype help
```

## Generated Files

The CLI generates an `index.ts` file in your output directory containing:

- **Schema definitions**: Zod schemas compiled from your directory structure
- **Converters**: Type-safe Firestore converters with optional validation
- **API functions**: `createFireTypeAdmin()` and/or `createFireTypeClient()` functions

### File Structure Example

```
types/
‚îî‚îÄ‚îÄ index.ts          # Generated types and API functions
```

<Note>
  üìù **Note**: Always regenerate types after modifying your schemas. The
  generated file includes import statements for the required Firestore SDKs
  based on your `--mode` selection.
</Note>

## CLI Usage Patterns

### Development Workflow

```bash
# Initial setup
mkdir -p schemas/database
npx @anonymous-dev/firetype generate --input=./schemas --output=./types

# Development loop
# 1. Edit schemas
# 2. Regenerate types
npx @anonymous-dev/firetype generate --input=./schemas --output=./types

# 3. Use in your code
import { createFireTypeAdmin } from "./types"
```

### Monorepo Setup

```bash
# Shared types package
npx @anonymous-dev/firetype generate \
  --input=./packages/database/schemas \
  --output=./packages/types/src

# Application-specific types
npx @anonymous-dev/firetype generate \
  --input=./apps/myapp/schemas \
  --output=./apps/myapp/src/types
```

### CI/CD Integration

```yaml
# .github/workflows/generate-types.yml
name: Generate Types
on:
  push:
    paths:
      - "schemas/**"
jobs:
  generate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: "18"
      - run: npm ci
      - run: npx @anonymous-dev/firetype generate --input=./schemas --output=./types
      - run: npm run type-check
```

## Troubleshooting CLI Issues

### Common Issues

#### "Cannot find module" errors

**Problem**: TypeScript can't find the generated types.

**Solution**: Make sure you've generated types before importing them:

```bash
npx @anonymous-dev/firetype generate --input=./schemas --output=./types
```

#### Schema validation errors

**Problem**: Your schema files aren't being recognized.

**Solutions**:

- Ensure schema files export a `schema` constant: `export const schema = z.object({...})`
- Check that schema files are named exactly `schema.ts`
- Verify the directory structure matches your Firestore collections

#### CLI not found

**Problem**: `firetype` command not recognized.

**Solutions**:

- Use `npx @anonymous-dev/firetype` instead of `firetype`
- Check that the package is installed: `npm list @anonymous-dev/firetype`
- For local installation, ensure your `PATH` includes node_modules/.bin

#### Type errors in generated code

**Problem**: TypeScript errors in the generated index.ts file.

**Solutions**:

- Update to the latest version: `npm update @anonymous-dev/firetype`
- Regenerate types after schema changes
- Check that your Zod schemas are valid

### Debug Mode

Enable verbose logging by setting the environment variable:

```bash
DEBUG=firetype npx @anonymous-dev/firetype generate --input=./schemas --output=./types
```
